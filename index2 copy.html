// Add these to the STATE object
const STATE = {
  // ... existing state ...
  matchEvents: [], // For storing non-goal events
};

// Add to STORAGE_KEYS
const STORAGE_KEYS = {
  // ... existing keys ...
  MATCH_EVENTS: 'goalTracker_matchEvents',
};

// Add event handlers
function addMatchEvent(eventType) {
  const currentSeconds = getCurrentSeconds();
  const eventData = {
    timestamp: Math.ceil(currentSeconds / 60),
    type: eventType,
    rawTime: currentSeconds
  };
  
  STATE.matchEvents.push(eventData);
  updateLog();
  Storage.save(STORAGE_KEYS.MATCH_EVENTS, STATE.matchEvents);
}

// Modify updateLog function to include all events
function updateLog() {
  // Combine goals and match events
  const allEvents = [...STATE.data, ...STATE.matchEvents]
    .sort((a, b) => a.rawTime - b.rawTime)
    .map(event => {
      if (event.type) {
        // Match event
        const cardClass = getEventCardClass(event.type);
        const icon = getEventIcon(event.type);
        return `<div class="card mb-2 ${cardClass}">
          <div class="card-body p-2">
            <span>${event.timestamp}'</span> - ${icon} <strong>${event.type}</strong>
          </div>
        </div>`;
      } else {
        // Goal event (existing logic)
        const team2Name = elements.Team2NameElement.textContent;
        const isOppositionGoal = event.goalScorerName === team2Name || event.goalScorerName === 'Opposition Team';
        const cardClass = isOppositionGoal ? 'border-danger border-2' : 'border-success border-2';
        
        return `<div class="card mb-2 ${cardClass}">
          <div class="card-body p-2">
            <span>${event.timestamp}</span>' - 
            <strong>${isOppositionGoal ? `<font color="red"> ${team2Name} Goal</font>` : 'Goal:'}</strong>
            ${isOppositionGoal ? '' : ` ${event.goalScorerName}, <strong>Assist:</strong> ${event.goalAssistName}`}
          </div>
        </div>`;
      }
    })
    .join('');
    
  elements.log.innerHTML = allEvents;
}

// Helper functions
function getEventCardClass(eventType) {
  switch(eventType) {
    case 'Half Time':
    case 'Full Time':
      return 'border-primary border-2';
    case 'Foul':
    case 'Penalty':
      return 'border-warning border-2';
    default:
      return 'border-secondary border-2';
  }
}

function getEventIcon(eventType) {
  switch(eventType) {
    case 'Half Time':
      return '‚è∏Ô∏è';
    case 'Full Time':
      return 'üèÅ';
    case 'Foul':
      return 'üü®';
    case 'Penalty':
      return '‚ö†Ô∏è';
    default:
      return 'üìù';
  }
}

// Add to initializeApp
function initializeApp() {
  // ... existing initialization ...
  STATE.matchEvents = Storage.load(STORAGE_KEYS.MATCH_EVENTS, []);
  
  // Add event listeners for new buttons
  document.getElementById('HalfTimeButton').addEventListener('click', () => addMatchEvent('Half Time'));
  document.getElementById('FullTimeButton').addEventListener('click', () => addMatchEvent('Full Time'));
  document.getElementById('FoulButton').addEventListener('click', () => addMatchEvent('Foul'));
  document.getElementById('PenaltyButton').addEventListener('click', () => addMatchEvent('Penalty'));
}

// Modify resetTracker to include match events
function resetTracker() {
  // ... existing reset logic ...
  STATE.matchEvents = [];
  // ... rest of reset logic ...
}

// Modify WhatsApp formatter to include match events
function formatLogForWhatsApp() {
  const gameTime = formatTime(STATE.seconds);
  const team1Name = elements.Team1NameElement.textContent;
  const team2Name = elements.Team2NameElement.textContent;
  const header = `‚öΩ Match Summary: ${team1Name} vs ${team2Name} (Time: ${gameTime})\n\n`;
  
  const allEvents = [...STATE.data, ...STATE.matchEvents]
    .sort((a, b) => a.rawTime - b.rawTime)
    .map(event => {
      if (event.type) {
        // Match event
        const icon = getEventIcon(event.type);
        return `${icon} ${event.timestamp}' - ${event.type}`;
      } else {
        // Goal event (existing logic)
        const isOppositionGoal = event.goalScorerName === team2Name;
        return isOppositionGoal 
          ? `‚ùå ${event.timestamp}' - ${team2Name} Goal`
          : `ü•Ö ${event.timestamp}' - Goal: ${event.goalScorerName}, Assist: ${event.goalAssistName}`;
      }
    })
    .join('\n');
    
  const stats = generateStats();
  return encodeURIComponent(`${header}${allEvents}\n\n${stats}`);




  -----------------------------------



  <!-- Game Actions Card -->
<div class="card">
  <div class="card-body">
    <h5 class="card-title"><i class="fa-regular fa-futbol"></i> Game Actions</h5><hr>
    
    <!-- Goals Section -->
    <div class="row mb-3">
      <h6 class="text-muted mb-2">‚öΩ Goals</h6>
      <div class="col-6">
        <button id="goalButton" class="btn btn-success w-100" data-bs-toggle="modal" data-bs-target="#goalModal">
          <i class="fa-solid fa-futbol me-2"></i>Netherton Goal
        </button>
      </div>
      <div class="col-6">
        <button class="btn btn-danger w-100" type="button" id="opgoalButton">
          <i class="fa-solid fa-futbol me-2"></i>Opposition Goal
        </button>
      </div>
    </div>
    
    <!-- Match Control Section -->
    <div class="row mb-3">
      <h6 class="text-muted mb-2">‚è±Ô∏è Match Control</h6>
      <div class="col-6">
        <button class="btn btn-primary w-100 mb-2" type="button" id="HalfTimeButton">
          <i class="fa-solid fa-stopwatch me-2"></i>Half Time
        </button>
      </div>
      <div class="col-6">
        <button class="btn btn-primary w-100 mb-2" type="button" id="FullTimeButton">
          <i class="fa-solid fa-flag-checkered me-2"></i>Full Time
        </button>
      </div>
    </div>
    
    <!-- Incidents Section -->
    <div class="row">
      <h6 class="text-muted mb-2">üìù Incidents</h6>
      <div class="col-6">
        <button class="btn btn-warning w-100" type="button" id="FoulButton">
          <i class="fa-solid fa-hand me-2"></i>Foul
        </button>
      </div>
      <div class="col-6">
        <button class="btn btn-warning w-100" type="button" id="PenaltyButton">
          <i class="fa-solid fa-circle-exclamation me-2"></i>Penalty
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Add this CSS to your style.css file -->
<style>
.card-title {
  font-size: 1.25rem;
  font-weight: 600;
}

.btn {
  padding: 0.75rem 1rem;
  font-weight: 500;
  text-transform: none;
  border-radius: 0.5rem;
}

.btn i {
  font-size: 1rem;
}

h6.text-muted {
  font-size: 0.875rem;
  font-weight: 600;
  padding-left: 0.5rem;
}

/* Button hover effects */
.btn-success:hover {
  background-color: #198754;
  transform: translateY(-1px);
  transition: all 0.2s;
}

.btn-danger:hover {
  background-color: #dc3545;
  transform: translateY(-1px);
  transition: all 0.2s;
}

.btn-primary:hover {
  background-color: #0d6efd;
  transform: translateY(-1px);
  transition: all 0.2s;
}

.btn-warning:hover {
  background-color: #ffc107;
  transform: translateY(-1px);
  transition: all 0.2s;
}

/* Responsive adjustments */
@media (max-width: 576px) {
  .btn {
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
  }
  
  .btn i {
    font-size: 0.875rem;
  }
}
</style>
}